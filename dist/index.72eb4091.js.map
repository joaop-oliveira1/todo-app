{"mappings":"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","sources":["src/js/contact.js"],"sourcesContent":["var contactForm = document.querySelector('#contact-form');\nconst state = {\n    loading: false,\n    form: {\n        email: getTextFieldById('email'),\n        name: getTextFieldById('name'),\n        message: getTextFieldById('message'),\n        button: document.querySelector('#submit-contact')\n    }\n}\n\ncontactForm.addEventListener('submit', async function handleContactSubmit(event) {\n    event.preventDefault();\n    mutateAllToLoading()\n    var formData = new FormData();\n    var values = getAllTextFieldValues();\n    formData.append('form-name', 'contact');\n    values.forEach(function appendToFormData(payload) {\n        formData.append(payload.key, payload.value)\n    })\n    await sendContactForm(formData)\n    mutateAllToNormal();\n})\n\nfunction getAllTextFieldValues() {\n    const fieldNames = Object.keys(state.form)\n        .filter(function filterButton(fieldName) {\n            // fieldName => fieldName !== 'button'\n            return fieldName !== 'button'\n        });\n    return fieldNames.map(function mapThroughValues(fieldName) {\n        return {\n            key: fieldName,\n            value: getTextFieldValue(fieldName)\n        };\n    })\n}\n\nfunction getTextFieldValue(name) {\n    return state.form[name].value\n}\n\nfunction mutate(key, value) {\n    state[key] = value;\n}\n\nfunction mutateAllToLoading() {\n    var formKeys = Object.keys(state.form)\n    mutate('loading', true)\n    contactForm.setAttribute('data-state', 'loading')\n    formKeys.forEach(function setToLoading(key) {\n        state.form[key].setAttribute('data-state', 'loading')\n        state.form[key].setAttribute('disabled', true)\n    })\n}\n\nfunction mutateAllToNormal() {\n    var formKeys = Object.keys(state.form)\n    mutate('loading', false)\n    contactForm.setAttribute('data-state', 'idle')\n    formKeys.forEach(function setToLoading(key) {\n        state.form[key].setAttribute('data-state', 'idle')\n        state.form[key].removeAttribute('disabled')\n    })\n}\n\nfunction getTextFieldById(name) {\n    return document.querySelector(`#${name}-field`)\n}\n\nfunction wait(time) {\n    return new Promise((resolve) => {\n        setTimeout(() => {\n            resolve();\n        }, time * 1000)\n    })\n}\n\nasync function sendContactForm(formData) {\n    await fetch(\"/\", {\n        method: 'POST',\n        headers: {\"Content-Type\": \"application/x-www-form-urlencoded\"},\n        body: new URLSearchParams(formData).toString()\n    })\n}"],"names":[],"version":3,"file":"index.72eb4091.js.map","sourceRoot":"/__parcel_source_root/"}